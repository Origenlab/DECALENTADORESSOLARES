---
import { getCollection, type CollectionEntry } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import Breadcrumb from "../../components/ui/Breadcrumb.astro";
import ProductGrid from "../../components/sections/ProductGrid.astro";
import CallToAction from "../../components/sections/CallToAction.astro";

const products: CollectionEntry<"productos">[] = (await getCollection("productos")).sort(
  (a: CollectionEntry<"productos">, b: CollectionEntry<"productos">) => a.data.order - b.data.order
);
---

<BaseLayout
  title="Productos de Calentadores Solares | Catalogo Profesional"
  description="Explora nuestro catalogo de calentadores solares residenciales y comerciales. Equipos eficientes con asesoria e instalacion especializada."
>
  <Breadcrumb items={[{ label: "Inicio", href: "/" }, { label: "Productos" }]} />

  <section class="page-intro">
    <h1>Catalogo de productos solares</h1>
    <p>
      Selecciona el equipo adecuado segun tu consumo y tipo de proyecto. Si necesitas ayuda para
      dimensionar, visita tambien nuestra pagina de <a href="/servicios">servicios tecnicos</a>.
    </p>
  </section>

  <ProductGrid products={products} title="Modelos disponibles" />
  <CallToAction />
</BaseLayout>
