---
const currentPath = Astro.url.pathname;

const links = [
  { href: "/", label: "Inicio" },
  { href: "/servicios", label: "Servicios" },
  { href: "/instalacion-profesional", label: "Instalacion" },
  { href: "/mantenimiento-preventivo", label: "Mantenimiento" },
  { href: "/asesoria-tecnica", label: "Asesoria" }
];

const isActive = (href: string) =>
  currentPath === href || (href !== "/" && currentPath.startsWith(href));
---

<header class="site-header">
  <div class="header-inner">
    <a class="brand" href="/" aria-label="De Calentadores Solares, inicio">
      <span class="brand-mark" aria-hidden="true">DS</span>
      <span class="brand-text">
        <strong>De Calentadores Solares</strong>
        <small>Ingenieria termica solar</small>
      </span>
    </a>

    <nav class="site-nav" aria-label="Navegacion principal">
      <ul class="main-nav">
        {links.map((link) => (
          <li>
            <a href={link.href} class:list={{ active: isActive(link.href) }}>
              {link.label}
            </a>
          </li>
        ))}
      </ul>
    </nav>

    <div class="header-actions">
      <a class="phone-pill" href="tel:+525512345678">55 1234 5678</a>
      <a
        class="header-cta"
        href="https://wa.me/5215512345678?text=Hola,%20me%20interesa%20cotizar%20un%20calentador%20solar"
        target="_blank"
        rel="noopener noreferrer"
      >
        Cotizar ahora
      </a>
    </div>
  </div>
</header>
